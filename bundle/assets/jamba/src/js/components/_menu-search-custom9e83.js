var MenuSearchCustomComponent=function(n){function f(){function o(n){var t="deselected",i;n.prop("checked")||(t="selected");i=n.attr("name")+":"+n.val()+"+"+t;n.attr("data-food-filter",i)}function s(n){var r=t.find("[data-ref=submit]"),i;r.length&&r.attr("data-foodSearchTerm",n);i=t.find("[data-ref=submit-image]");i.length&&i.attr("data-foodSearchTerm",n)}function f(){var n="",i=t.find("[data-ref=searchTerm]");return i&&(n=i.val()),n}t.find("[data-ref=results]").hasClass("d-none")&&n(document).trigger("ga.tracking:food.searchzero.send",f());t.find("[data-ref=nav-item]").on("keyup",function(t){if(t.key=="Tab"){if(t.preventDefault(),!i.length)return;i.scrollLeft(0);var r=n(this),u=r.outerWidth()/2,f=i.innerWidth()/2,e=r.position().left;i.scrollLeft(e-f+u)}});t.find("input[type=checkbox]").each(function(){o(n(this))});t.find("input[type=checkbox]").off().on("change",function(){o(n(this));u=!0;t.find("form").submit()});t.find("[data-ref=searchTerm]").on("keyup",function(n){n.preventDefault();s(f())});t.find("form").on("submit",function(i){var o,s;i.preventDefault();o=e(n(this).serializeArray());u?u=!1:n(document).trigger("ga.tracking:food.search.send",f());s=window.location.pathname+"?"+o;history&&history.pushState(null,null,s);r&&r.readyState!==4&&r.abort();r=n.ajax({url:t.data("action-url"),data:o,method:"GET"}).done(function(i){var u=n("<div><\/div>").html(i),e=u.find("[data-ref=title]"),r;e.length&&t.find("[data-ref=title]").html(e.html());r=u.find("[data-ref=list-results]");r.length?(t.find("[data-ref=results]").removeClass("d-none"),t.find("[data-ref=no-results]").addClass("d-none"),t.find("[data-ref=results]").html(r[0].outerHTML)):(t.find("[data-ref=results]").addClass("d-none"),t.find("[data-ref=no-results]").removeClass("d-none"),n(document).trigger("ga.tracking:food.searchzero.send",f()));n(document).trigger("add.product.cart:reinit")}).fail(function(){})})}function e(n){var t,u,i,r;console.log("createQueryParameters executed");t=[];u=function(n,i){var r=jQuery.isFunction(i)?i():i,u=t[n];t[n]=u?u+","+encodeURIComponent(r===null?"":r):encodeURIComponent(n)+"="+encodeURIComponent(r===null?"":r)};jQuery.each(n,function(){u(this.name,this.value)});i=[];for(r in t)t.hasOwnProperty(r)&&i.push(t[r]);return i.join("&")}function o(){t.length&&f()}var t=n("body").find("[data-component=menu-search-component]"),i=t.find("[data-ref=filters-wrapper]"),r,u=!1;return{init:o}}(jQuery);$(window).on("load",function(){MenuSearchCustomComponent.init()})